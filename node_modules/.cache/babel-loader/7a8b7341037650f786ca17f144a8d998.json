{"ast":null,"code":"import _objectSpread from \"/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _toConsumableArray from \"/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"disableOutsidePointerEvents\", \"onEscapeKeyDown\", \"onPointerDownOutside\", \"onFocusOutside\", \"onInteractOutside\", \"onDismiss\"];\nimport { useEscapeKeydown as e } from \"@radix-ui/react-use-escape-keydown\";\nimport { useCallbackRef as t } from \"@radix-ui/react-use-callback-ref\";\nimport { useBodyPointerEvents as n } from \"@radix-ui/react-use-body-pointer-events\";\nimport { useComposedRefs as r } from \"@radix-ui/react-compose-refs\";\nimport { Primitive as s } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers as o } from \"@radix-ui/primitive\";\nimport * as i from \"react\";\nimport a from \"@babel/runtime/helpers/esm/extends\";\nvar u = /*#__PURE__*/i.createContext({\n  layers: new Set(),\n  layersWithOutsidePointerEventsDisabled: new Set(),\n  branches: new Set()\n});\nexport var DismissableLayer = /*#__PURE__*/i.forwardRef(function (l, m) {\n  var _l$disableOutsidePoin = l.disableOutsidePointerEvents,\n      f = _l$disableOutsidePoin === void 0 ? !1 : _l$disableOutsidePoin,\n      p = l.onEscapeKeyDown,\n      v = l.onPointerDownOutside,\n      b = l.onFocusOutside,\n      E = l.onInteractOutside,\n      y = l.onDismiss,\n      w = _objectWithoutProperties(l, _excluded),\n      h = i.useContext(u),\n      _i$useState = i.useState(null),\n      _i$useState2 = _slicedToArray(_i$useState, 2),\n      D = _i$useState2[0],\n      x = _i$useState2[1],\n      _i$useState3 = i.useState({}),\n      _i$useState4 = _slicedToArray(_i$useState3, 2),\n      C = _i$useState4[1],\n      L = r(m, function (e) {\n    return x(e);\n  }),\n      P = Array.from(h.layers),\n      _slice = _toConsumableArray(h.layersWithOutsidePointerEventsDisabled).slice(-1),\n      _slice2 = _slicedToArray(_slice, 1),\n      O = _slice2[0],\n      g = P.indexOf(O),\n      B = D ? P.indexOf(D) : -1,\n      R = h.layersWithOutsidePointerEventsDisabled.size > 0,\n      F = B >= g,\n      S = function (e) {\n    var n = t(e),\n        r = i.useRef(!1);\n    return i.useEffect(function () {\n      var e = function e(_e) {\n        if (_e.target && !r.current) {\n          d(\"dismissableLayer.pointerDownOutside\", n, {\n            originalEvent: _e\n          });\n        }\n\n        r.current = !1;\n      },\n          t = window.setTimeout(function () {\n        document.addEventListener(\"pointerdown\", e);\n      }, 0);\n\n      return function () {\n        window.clearTimeout(t), document.removeEventListener(\"pointerdown\", e);\n      };\n    }, [n]), {\n      onPointerDownCapture: function onPointerDownCapture() {\n        return r.current = !0;\n      }\n    };\n  }(function (e) {\n    var t = e.target,\n        n = _toConsumableArray(h.branches).some(function (e) {\n      return e.contains(t);\n    });\n\n    F && !n && (null == v || v(e), null == E || E(e), e.defaultPrevented || null == y || y());\n  }),\n      W = function (e) {\n    var n = t(e),\n        r = i.useRef(!1);\n    return i.useEffect(function () {\n      var e = function e(_e2) {\n        if (_e2.target && !r.current) {\n          d(\"dismissableLayer.focusOutside\", n, {\n            originalEvent: _e2\n          });\n        }\n      };\n\n      return document.addEventListener(\"focusin\", e), function () {\n        return document.removeEventListener(\"focusin\", e);\n      };\n    }, [n]), {\n      onFocusCapture: function onFocusCapture() {\n        return r.current = !0;\n      },\n      onBlurCapture: function onBlurCapture() {\n        return r.current = !1;\n      }\n    };\n  }(function (e) {\n    var t = e.target;\n    _toConsumableArray(h.branches).some(function (e) {\n      return e.contains(t);\n    }) || (null == b || b(e), null == E || E(e), e.defaultPrevented || null == y || y());\n  });\n\n  return e(function (e) {\n    B === h.layers.size - 1 && (null == p || p(e), e.defaultPrevented || null == y || y());\n  }), n({\n    disabled: f\n  }), i.useEffect(function () {\n    D && (f && h.layersWithOutsidePointerEventsDisabled.add(D), h.layers.add(D), c());\n  }, [D, f, h]), i.useEffect(function () {\n    return function () {\n      D && (h.layers.delete(D), h.layersWithOutsidePointerEventsDisabled.delete(D), c());\n    };\n  }, [D, h]), i.useEffect(function () {\n    var e = function e() {\n      return C({});\n    };\n\n    return document.addEventListener(\"dismissableLayer.update\", e), function () {\n      return document.removeEventListener(\"dismissableLayer.update\", e);\n    };\n  }, []), /*#__PURE__*/i.createElement(s.div, a({}, w, {\n    ref: L,\n    style: _objectSpread({\n      pointerEvents: R ? F ? \"auto\" : \"none\" : void 0\n    }, l.style),\n    onFocusCapture: o(l.onFocusCapture, W.onFocusCapture),\n    onBlurCapture: o(l.onBlurCapture, W.onBlurCapture),\n    onPointerDownCapture: o(l.onPointerDownCapture, S.onPointerDownCapture)\n  }));\n});\n/*#__PURE__*/\n\nexport var DismissableLayerBranch = /*#__PURE__*/i.forwardRef(function (e, t) {\n  var n = i.useContext(u),\n      o = i.useRef(null),\n      c = r(t, o);\n  return i.useEffect(function () {\n    var e = o.current;\n    if (e) return n.branches.add(e), function () {\n      n.branches.delete(e);\n    };\n  }, [n.branches]), /*#__PURE__*/i.createElement(s.div, a({}, e, {\n    ref: c\n  }));\n});\n/*#__PURE__*/\n\nfunction c() {\n  var e = new Event(\"dismissableLayer.update\");\n  document.dispatchEvent(e);\n}\n\nfunction d(e, t, n) {\n  var r = n.originalEvent.target,\n      s = new CustomEvent(e, {\n    bubbles: !1,\n    cancelable: !0,\n    detail: n\n  });\n  return t && r.addEventListener(e, t, {\n    once: !0\n  }), !r.dispatchEvent(s);\n}\n\nexport var Root = DismissableLayer;\nexport var Branch = DismissableLayerBranch;","map":{"version":3,"mappings":"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","names":["DismissableLayerContext","React","createContext","layers","Set","layersWithOutsidePointerEventsDisabled","branches","DismissableLayer","forwardRef","props","forwardedRef","disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","layerProps","context","useContext","useState","node","setNode","force","composedRefs","useComposedRefs","Array","from","slice","highestLayerWithOutsidePointerEventsDisabled","highestLayerWithOutsidePointerEventsDisabledIndex","indexOf","index","isBodyPointerEventsDisabled","size","isPointerEventsEnabled","pointerDownOutside","handlePointerDownOutside","useCallbackRef","isPointerInsideReactTreeRef","useRef","useEffect","handlePointerDown","event","target","current","dispatchCustomEvent","originalEvent","timerId","window","setTimeout","document","addEventListener","clearTimeout","removeEventListener","onPointerDownCapture","usePointerDownOutside","isPointerDownOnBranch","some","branch","contains","defaultPrevented","focusOutside","handleFocusOutside","isFocusInsideReactTreeRef","handleFocus","onFocusCapture","onBlurCapture","useFocusOutside","useEscapeKeydown","useBodyPointerEvents","disabled","add","dispatchUpdate","delete","handleUpdate","_react","Primitive","div","_babelRuntimeHelpersEsmExtends","ref","style","pointerEvents","undefined","composeEventHandlers","DismissableLayerBranch","Event","dispatchEvent","name","handler","detail","CustomEvent","bubbles","cancelable","once","Root","Branch"],"sources":["/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@radix-ui/react-dismissable-layer/dist/packages/react/dismissable-layer/src/DismissableLayer.tsx"],"sourcesContent":["import * as React from 'react';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { useBodyPointerEvents } from '@radix-ui/react-use-body-pointer-events';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useEscapeKeydown } from '@radix-ui/react-use-escape-keydown';\n\nimport type * as Radix from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayer\n * -----------------------------------------------------------------------------------------------*/\n\nconst DISMISSABLE_LAYER_NAME = 'DismissableLayer';\nconst CONTEXT_UPDATE = 'dismissableLayer.update';\nconst POINTER_DOWN_OUTSIDE = 'dismissableLayer.pointerDownOutside';\nconst FOCUS_OUTSIDE = 'dismissableLayer.focusOutside';\n\nconst DismissableLayerContext = React.createContext({\n  layers: new Set<DismissableLayerElement>(),\n  layersWithOutsidePointerEventsDisabled: new Set<DismissableLayerElement>(),\n  branches: new Set<DismissableLayerBranchElement>(),\n});\n\ntype DismissableLayerElement = React.ElementRef<typeof Primitive.div>;\ntype PrimitiveDivProps = Radix.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface DismissableLayerProps extends PrimitiveDivProps {\n  /**\n   * When `true`, hover/focus/click interactions will be disabled on elements outside\n   * the `DismissableLayer`. Users will need to click twice on outside elements to\n   * interact with them: once to close the `DismissableLayer`, and again to trigger the element.\n   */\n  disableOutsidePointerEvents?: boolean;\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: (event: KeyboardEvent) => void;\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: (event: PointerDownOutsideEvent) => void;\n  /**\n   * Event handler called when the focus moves outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onFocusOutside?: (event: FocusOutsideEvent) => void;\n  /**\n   * Event handler called when an interaction happens outside the `DismissableLayer`.\n   * Specifically, when a `pointerdown` event happens outside or focus moves outside of it.\n   * Can be prevented.\n   */\n  onInteractOutside?: (event: PointerDownOutsideEvent | FocusOutsideEvent) => void;\n  /**\n   * Handler called when the `DismissableLayer` should be dismissed\n   */\n  onDismiss?: () => void;\n}\n\nconst DismissableLayer = React.forwardRef<DismissableLayerElement, DismissableLayerProps>(\n  (props, forwardedRef) => {\n    const {\n      disableOutsidePointerEvents = false,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      ...layerProps\n    } = props;\n    const context = React.useContext(DismissableLayerContext);\n    const [node, setNode] = React.useState<DismissableLayerElement | null>(null);\n    const [, force] = React.useState({});\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setNode(node));\n    const layers = Array.from(context.layers);\n    const [highestLayerWithOutsidePointerEventsDisabled] = [...context.layersWithOutsidePointerEventsDisabled].slice(-1); // prettier-ignore\n    const highestLayerWithOutsidePointerEventsDisabledIndex = layers.indexOf(highestLayerWithOutsidePointerEventsDisabled); // prettier-ignore\n    const index = node ? layers.indexOf(node) : -1;\n    const isBodyPointerEventsDisabled = context.layersWithOutsidePointerEventsDisabled.size > 0;\n    const isPointerEventsEnabled = index >= highestLayerWithOutsidePointerEventsDisabledIndex;\n\n    const pointerDownOutside = usePointerDownOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isPointerDownOnBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (!isPointerEventsEnabled || isPointerDownOnBranch) return;\n      onPointerDownOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    });\n\n    const focusOutside = useFocusOutside((event) => {\n      const target = event.target as HTMLElement;\n      const isFocusInBranch = [...context.branches].some((branch) => branch.contains(target));\n      if (isFocusInBranch) return;\n      onFocusOutside?.(event);\n      onInteractOutside?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    });\n\n    useEscapeKeydown((event) => {\n      const isHighestLayer = index === context.layers.size - 1;\n      if (!isHighestLayer) return;\n      onEscapeKeyDown?.(event);\n      if (!event.defaultPrevented) onDismiss?.();\n    });\n\n    useBodyPointerEvents({ disabled: disableOutsidePointerEvents });\n\n    React.useEffect(() => {\n      if (!node) return;\n      if (disableOutsidePointerEvents) context.layersWithOutsidePointerEventsDisabled.add(node);\n      context.layers.add(node);\n      dispatchUpdate();\n    }, [node, disableOutsidePointerEvents, context]);\n\n    /**\n     * We purposefully prevent combining this effect with the `disableOutsidePointerEvents` effect\n     * because a change to `disableOutsidePointerEvents` would remove this layer from the stack\n     * and add it to the end again so the layering order wouldn't be _creation order_.\n     * We only want them to be removed from context stacks when unmounted.\n     */\n    React.useEffect(() => {\n      return () => {\n        if (!node) return;\n        context.layers.delete(node);\n        context.layersWithOutsidePointerEventsDisabled.delete(node);\n        dispatchUpdate();\n      };\n    }, [node, context]);\n\n    React.useEffect(() => {\n      const handleUpdate = () => force({});\n      document.addEventListener(CONTEXT_UPDATE, handleUpdate);\n      return () => document.removeEventListener(CONTEXT_UPDATE, handleUpdate);\n    }, []);\n\n    return (\n      <Primitive.div\n        {...layerProps}\n        ref={composedRefs}\n        style={{\n          pointerEvents: isBodyPointerEventsDisabled\n            ? isPointerEventsEnabled\n              ? 'auto'\n              : 'none'\n            : undefined,\n          ...props.style,\n        }}\n        onFocusCapture={composeEventHandlers(props.onFocusCapture, focusOutside.onFocusCapture)}\n        onBlurCapture={composeEventHandlers(props.onBlurCapture, focusOutside.onBlurCapture)}\n        onPointerDownCapture={composeEventHandlers(\n          props.onPointerDownCapture,\n          pointerDownOutside.onPointerDownCapture\n        )}\n      />\n    );\n  }\n);\n\nDismissableLayer.displayName = DISMISSABLE_LAYER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * DismissableLayerBranch\n * -----------------------------------------------------------------------------------------------*/\n\nconst BRANCH_NAME = 'DismissableLayerBranch';\n\ntype DismissableLayerBranchElement = React.ElementRef<typeof Primitive.div>;\ninterface DismissableLayerBranchProps extends PrimitiveDivProps {}\n\nconst DismissableLayerBranch = React.forwardRef<\n  DismissableLayerBranchElement,\n  DismissableLayerBranchProps\n>((props, forwardedRef) => {\n  const context = React.useContext(DismissableLayerContext);\n  const ref = React.useRef<DismissableLayerBranchElement>(null);\n  const composedRefs = useComposedRefs(forwardedRef, ref);\n\n  React.useEffect(() => {\n    const node = ref.current;\n    if (node) {\n      context.branches.add(node);\n      return () => {\n        context.branches.delete(node);\n      };\n    }\n  }, [context.branches]);\n\n  return <Primitive.div {...props} ref={composedRefs} />;\n});\n\nDismissableLayerBranch.displayName = BRANCH_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\ntype PointerDownOutsideEvent = CustomEvent<{ originalEvent: PointerEvent }>;\ntype FocusOutsideEvent = CustomEvent<{ originalEvent: FocusEvent }>;\n\n/**\n * Listens for `pointerdown` outside a react subtree. We use `pointerdown` rather than `pointerup`\n * to mimic layer dismissing behaviour present in OS.\n * Returns props to pass to the node we want to check for outside events.\n */\nfunction usePointerDownOutside(onPointerDownOutside?: (event: PointerDownOutsideEvent) => void) {\n  const handlePointerDownOutside = useCallbackRef(onPointerDownOutside) as EventListener;\n  const isPointerInsideReactTreeRef = React.useRef(false);\n\n  React.useEffect(() => {\n    const handlePointerDown = (event: PointerEvent) => {\n      if (event.target && !isPointerInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        dispatchCustomEvent(POINTER_DOWN_OUTSIDE, handlePointerDownOutside, eventDetail);\n      }\n      isPointerInsideReactTreeRef.current = false;\n    };\n    /**\n     * if this hook executes in a component that mounts via a `pointerdown` event, the event\n     * would bubble up to the document and trigger a `pointerDownOutside` event. We avoid\n     * this by delaying the event listener registration on the document.\n     * This is not React specific, but rather how the DOM works, ie:\n     * ```\n     * button.addEventListener('pointerdown', () => {\n     *   console.log('I will log');\n     *   document.addEventListener('pointerdown', () => {\n     *     console.log('I will also log');\n     *   })\n     * });\n     */\n    const timerId = window.setTimeout(() => {\n      document.addEventListener('pointerdown', handlePointerDown);\n    }, 0);\n    return () => {\n      window.clearTimeout(timerId);\n      document.removeEventListener('pointerdown', handlePointerDown);\n    };\n  }, [handlePointerDownOutside]);\n\n  return {\n    // ensures we check React component tree (not just DOM tree)\n    onPointerDownCapture: () => (isPointerInsideReactTreeRef.current = true),\n  };\n}\n\n/**\n * Listens for when focus happens outside a react subtree.\n * Returns props to pass to the root (node) of the subtree we want to check.\n */\nfunction useFocusOutside(onFocusOutside?: (event: FocusOutsideEvent) => void) {\n  const handleFocusOutside = useCallbackRef(onFocusOutside) as EventListener;\n  const isFocusInsideReactTreeRef = React.useRef(false);\n\n  React.useEffect(() => {\n    const handleFocus = (event: FocusEvent) => {\n      if (event.target && !isFocusInsideReactTreeRef.current) {\n        const eventDetail = { originalEvent: event };\n        dispatchCustomEvent(FOCUS_OUTSIDE, handleFocusOutside, eventDetail);\n      }\n    };\n    document.addEventListener('focusin', handleFocus);\n    return () => document.removeEventListener('focusin', handleFocus);\n  }, [handleFocusOutside]);\n\n  return {\n    onFocusCapture: () => (isFocusInsideReactTreeRef.current = true),\n    onBlurCapture: () => (isFocusInsideReactTreeRef.current = false),\n  };\n}\n\nfunction dispatchUpdate() {\n  const event = new Event(CONTEXT_UPDATE);\n  document.dispatchEvent(event);\n}\n\nfunction dispatchCustomEvent<E extends CustomEvent, OriginalEvent extends Event>(\n  name: string,\n  handler: ((event: E) => void) | undefined,\n  detail: { originalEvent: OriginalEvent } & (E extends CustomEvent<infer D> ? D : never)\n) {\n  const target = detail.originalEvent.target as HTMLElement;\n  const event = new CustomEvent(name, { bubbles: false, cancelable: true, detail });\n  if (handler) target.addEventListener(name, handler as EventListener, { once: true });\n  return !target.dispatchEvent(event);\n}\n\nconst Root = DismissableLayer;\nconst Branch = DismissableLayerBranch;\n\nexport {\n  DismissableLayer,\n  DismissableLayerBranch,\n  //\n  Root,\n  Branch,\n};\nexport type { DismissableLayerProps };\n"]},"metadata":{},"sourceType":"module"}