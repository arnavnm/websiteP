{"ast":null,"code":"import * as React from 'react';\nimport { useState, useCallback, useMemo, useContext } from 'react';\nimport { MapContext } from './map';\nexport const MountedMapsContext = React.createContext(null);\nexport const MapProvider = props => {\n  const [maps, setMaps] = useState({});\n  const onMapMount = useCallback(function (map) {\n    let id = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'default';\n    setMaps(currMaps => {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n\n      if (currMaps[id]) {\n        throw new Error(`Multiple maps with the same id: ${id}`);\n      }\n\n      return { ...currMaps,\n        [id]: map\n      };\n    });\n  }, []);\n  const onMapUnmount = useCallback(function () {\n    let id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'default';\n    setMaps(currMaps => {\n      if (currMaps[id]) {\n        const nextMaps = { ...currMaps\n        };\n        delete nextMaps[id];\n        return nextMaps;\n      }\n\n      return currMaps;\n    });\n  }, []);\n  return React.createElement(MountedMapsContext.Provider, {\n    value: {\n      maps,\n      onMapMount,\n      onMapUnmount\n    }\n  }, props.children);\n};\nexport function useMap() {\n  var _a;\n\n  const maps = (_a = useContext(MountedMapsContext)) === null || _a === void 0 ? void 0 : _a.maps;\n  const currentMap = useContext(MapContext);\n  const mapsWithCurrent = useMemo(() => {\n    return { ...maps,\n      current: currentMap === null || currentMap === void 0 ? void 0 : currentMap.map\n    };\n  }, [maps, currentMap]);\n  return mapsWithCurrent;\n}","map":{"version":3,"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,WAAnB,EAAgCC,OAAhC,EAAyCC,UAAzC,QAA2D,OAA3D;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,OAAO,MAAMC,kBAAkB,GAAGN,KAAK,CAACO,aAAN,CAAoB,IAApB,CAA3B;AACP,OAAO,MAAMC,WAAW,GAAGC,KAAK,IAAI;EAChC,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAMW,UAAU,GAAGV,WAAW,CAAC,UAACW,GAAD,EAAyB;IAAA,IAAnBC,EAAmB,uEAAd,SAAc;IACpDH,OAAO,CAACI,QAAQ,IAAI;MAChB,IAAID,EAAE,KAAK,SAAX,EAAsB;QAClB,MAAM,IAAIE,KAAJ,CAAU,oCAAV,CAAN;MACH;;MACD,IAAID,QAAQ,CAACD,EAAD,CAAZ,EAAkB;QACd,MAAM,IAAIE,KAAJ,CAAW,mCAAkCF,EAAG,EAAhD,CAAN;MACH;;MACD,OAAO,EAAE,GAAGC,QAAL;QAAe,CAACD,EAAD,GAAMD;MAArB,CAAP;IACH,CARM,CAAP;EASH,CAV6B,EAU3B,EAV2B,CAA9B;EAWA,MAAMI,YAAY,GAAGf,WAAW,CAAC,YAAoB;IAAA,IAAnBY,EAAmB,uEAAd,SAAc;IACjDH,OAAO,CAACI,QAAQ,IAAI;MAChB,IAAIA,QAAQ,CAACD,EAAD,CAAZ,EAAkB;QACd,MAAMI,QAAQ,GAAG,EAAE,GAAGH;QAAL,CAAjB;QACA,OAAOG,QAAQ,CAACJ,EAAD,CAAf;QACA,OAAOI,QAAP;MACH;;MACD,OAAOH,QAAP;IACH,CAPM,CAAP;EAQH,CAT+B,EAS7B,EAT6B,CAAhC;EAUA,OAAQf,KAAK,CAACmB,aAAN,CAAoBb,kBAAkB,CAACc,QAAvC,EAAiD;IAAEC,KAAK,EAAE;MAC1DX,IAD0D;MAE1DE,UAF0D;MAG1DK;IAH0D;EAAT,CAAjD,EAICR,KAAK,CAACa,QAJP,CAAR;AAKH,CA5BM;AA6BP,OAAO,SAASC,MAAT,GAAkB;EACrB,IAAIC,EAAJ;;EACA,MAAMd,IAAI,GAAG,CAACc,EAAE,GAAGpB,UAAU,CAACE,kBAAD,CAAhB,MAA0C,IAA1C,IAAkDkB,EAAE,KAAK,KAAK,CAA9D,GAAkE,KAAK,CAAvE,GAA2EA,EAAE,CAACd,IAA3F;EACA,MAAMe,UAAU,GAAGrB,UAAU,CAACC,UAAD,CAA7B;EACA,MAAMqB,eAAe,GAAGvB,OAAO,CAAC,MAAM;IAClC,OAAO,EAAE,GAAGO,IAAL;MAAWiB,OAAO,EAAEF,UAAU,KAAK,IAAf,IAAuBA,UAAU,KAAK,KAAK,CAA3C,GAA+C,KAAK,CAApD,GAAwDA,UAAU,CAACZ;IAAvF,CAAP;EACH,CAF8B,EAE5B,CAACH,IAAD,EAAOe,UAAP,CAF4B,CAA/B;EAGA,OAAOC,eAAP;AACH","names":["React","useState","useCallback","useMemo","useContext","MapContext","MountedMapsContext","createContext","MapProvider","props","maps","setMaps","onMapMount","map","id","currMaps","Error","onMapUnmount","nextMaps","Provider","value","children","useMap","_a","currentMap","mapsWithCurrent","current"],"sources":["/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/react-map-gl/src/components/use-map.tsx"],"sourcesContent":["import * as React from 'react';\nimport {useState, useCallback, useMemo, useContext} from 'react';\n\nimport {MapRef} from '../mapbox/create-ref';\nimport {MapContext} from './map';\n\ntype MountedMapsContextValue = {\n  maps: {[id: string]: MapRef};\n  onMapMount: (map: MapRef, id: string) => void;\n  onMapUnmount: (id: string) => void;\n};\n\nexport const MountedMapsContext = React.createContext<MountedMapsContextValue>(null);\n\nexport const MapProvider: React.FC<{children?: React.ReactNode}> = props => {\n  const [maps, setMaps] = useState<{[id: string]: MapRef}>({});\n\n  const onMapMount = useCallback((map: MapRef, id: string = 'default') => {\n    setMaps(currMaps => {\n      if (id === 'current') {\n        throw new Error(\"'current' cannot be used as map id\");\n      }\n      if (currMaps[id]) {\n        throw new Error(`Multiple maps with the same id: ${id}`);\n      }\n      return {...currMaps, [id]: map};\n    });\n  }, []);\n\n  const onMapUnmount = useCallback((id: string = 'default') => {\n    setMaps(currMaps => {\n      if (currMaps[id]) {\n        const nextMaps = {...currMaps};\n        delete nextMaps[id];\n        return nextMaps;\n      }\n      return currMaps;\n    });\n  }, []);\n\n  return (\n    <MountedMapsContext.Provider\n      value={{\n        maps,\n        onMapMount,\n        onMapUnmount\n      }}\n    >\n      {props.children}\n    </MountedMapsContext.Provider>\n  );\n};\n\nexport function useMap(): {current?: MapRef; [id: string]: MapRef | undefined} {\n  const maps = useContext(MountedMapsContext)?.maps;\n  const currentMap = useContext(MapContext);\n\n  const mapsWithCurrent = useMemo(() => {\n    return {...maps, current: currentMap?.map};\n  }, [maps, currentMap]);\n\n  return mapsWithCurrent;\n}\n"]},"metadata":{},"sourceType":"module"}