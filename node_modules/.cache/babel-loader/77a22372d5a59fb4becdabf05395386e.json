{"ast":null,"code":"import { __awaiter as e, __generator as t, __assign as r, __rest as n } from \"../../../node_modules/tslib/tslib.es6.js\";\nimport { Auth as i } from \"aws-amplify\";\nimport s from \"lodash/get\";\nimport o from \"lodash/isEmpty\";\nimport { createMachine as a, sendUpdate as c } from \"xstate\";\nimport { AuthChallengeNames as d } from \"../../../types/authenticator/user.js\";\nimport \"../../../types/authenticator/attributes.js\";\nimport { runValidators as u } from \"../../../validators/index.js\";\nimport { clearAttributeToVerify as l, clearChallengeName as g, clearRequiredAttributes as f, clearError as m, clearFormValues as h, clearTouched as p, clearUnverifiedAttributes as v, clearValidationError as I, handleInput as A, handleSubmit as U, handleBlur as E, parsePhoneNumber as S, setChallengeName as b, setConfirmResetPasswordIntent as y, setConfirmSignUpIntent as T, setRequiredAttributes as C, setCredentials as N, setFieldErrors as w, setRemoteError as R, setUnverifiedAttributes as P, setUser as V, setUsernameAuthAttributes as F } from \"../actions.js\";\nimport { defaultServices as _ } from \"../defaultServices.js\";\n\nfunction k(k) {\n  var j = k.services;\n  return a({\n    initial: \"init\",\n    id: \"signInActor\",\n    states: {\n      init: {\n        always: [{\n          target: \"autoSignIn\",\n          cond: \"shouldAutoSignIn\"\n        }, {\n          target: \"signIn\"\n        }]\n      },\n      signIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              CHANGE: {\n                actions: \"handleInput\"\n              },\n              FEDERATED_SIGN_IN: \"federatedSignIn\"\n            }\n          },\n          federatedSignIn: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"federatedSignIn\",\n              onError: {\n                actions: \"setRemoteError\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"parsePhoneNumber\", \"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"signIn\",\n              onDone: [{\n                cond: \"shouldSetupTOTP\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.setupTOTP\"\n              }, {\n                cond: \"shouldConfirmSignIn\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.confirmSignIn\"\n              }, {\n                cond: \"shouldForceChangePassword\",\n                actions: [\"setUser\", \"setChallengeName\", \"setRequiredAttributes\"],\n                target: \"#signInActor.forceNewPassword\"\n              }, {\n                actions: \"setUser\",\n                target: \"verifying\"\n              }],\n              onError: [{\n                cond: \"shouldRedirectToConfirmSignUp\",\n                actions: [\"setCredentials\", \"setConfirmSignUpIntent\"],\n                target: \"rejected\"\n              }, {\n                cond: \"shouldRedirectToConfirmResetPassword\",\n                actions: [\"setUsernameAuthAttributes\", \"setConfirmResetPasswordIntent\"],\n                target: \"rejected\"\n              }, {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }]\n            }\n          },\n          verifying: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"checkVerifiedContact\",\n              onDone: [{\n                cond: \"shouldRequestVerification\",\n                target: \"#signInActor.verifyUser\",\n                actions: \"setUnverifiedAttributes\"\n              }, {\n                target: \"resolved\"\n              }],\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          },\n          resolved: {\n            always: \"#signInActor.resolved\"\n          },\n          rejected: {\n            always: \"#signInActor.rejected\"\n          }\n        }\n      },\n      autoSignIn: {\n        initial: \"submit\",\n        states: {\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"signIn\",\n              onDone: [{\n                cond: \"shouldSetupTOTP\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.setupTOTP\"\n              }, {\n                cond: \"shouldConfirmSignIn\",\n                actions: [\"setUser\", \"setChallengeName\"],\n                target: \"#signInActor.confirmSignIn\"\n              }, {\n                cond: \"shouldForceChangePassword\",\n                actions: [\"setUser\", \"setChallengeName\", \"setRequiredAttributes\"],\n                target: \"#signInActor.forceNewPassword\"\n              }, {\n                actions: \"setUser\",\n                target: \"#signInActor.resolved\"\n              }],\n              onError: [{\n                cond: \"shouldRedirectToConfirmSignUp\",\n                actions: [\"setCredentials\", \"setConfirmSignUpIntent\"],\n                target: \"#signInActor.rejected\"\n              }, {\n                cond: \"shouldRedirectToConfirmResetPassword\",\n                actions: [\"setUsernameAuthAttributes\", \"setConfirmResetPasswordIntent\"],\n                target: \"#signInActor.rejected\"\n              }, {\n                actions: \"setRemoteError\",\n                target: \"#signInActor.signIn\"\n              }]\n            }\n          }\n        }\n      },\n      confirmSignIn: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"clearError\", \"sendUpdate\"],\n            invoke: {\n              src: \"confirmSignIn\",\n              onDone: {\n                target: \"#signInActor.resolved\",\n                actions: [\"setUser\", \"clearChallengeName\", \"clearRequiredAttributes\"]\n              },\n              onError: {\n                target: \"edit\",\n                actions: \"setRemoteError\"\n              }\n            }\n          }\n        }\n      },\n      forceNewPassword: {\n        type: \"parallel\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          validation: {\n            initial: \"pending\",\n            states: {\n              pending: {\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"valid\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"invalid\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              valid: {\n                entry: \"sendUpdate\"\n              },\n              invalid: {\n                entry: \"sendUpdate\"\n              }\n            },\n            on: {\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\",\n                target: \".pending\"\n              },\n              BLUR: {\n                actions: \"handleBlur\",\n                target: \".pending\"\n              }\n            }\n          },\n          submit: {\n            initial: \"idle\",\n            entry: \"clearError\",\n            states: {\n              idle: {\n                entry: \"sendUpdate\",\n                on: {\n                  SUBMIT: {\n                    actions: \"handleSubmit\",\n                    target: \"validate\"\n                  }\n                }\n              },\n              validate: {\n                entry: \"sendUpdate\",\n                invoke: {\n                  src: \"validateFields\",\n                  onDone: {\n                    target: \"pending\",\n                    actions: \"clearValidationError\"\n                  },\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setFieldErrors\"\n                  }\n                }\n              },\n              pending: {\n                tags: [\"pending\"],\n                entry: [\"sendUpdate\", \"clearError\"],\n                invoke: {\n                  src: \"forceNewPassword\",\n                  onDone: [{\n                    cond: \"shouldConfirmSignIn\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.confirmSignIn\"\n                  }, {\n                    cond: \"shouldSetupTOTP\",\n                    actions: [\"setUser\", \"setChallengeName\"],\n                    target: \"#signInActor.setupTOTP\"\n                  }, {\n                    target: \"resolved\",\n                    actions: [\"setUser\", \"setCredentials\"]\n                  }],\n                  onError: {\n                    target: \"idle\",\n                    actions: \"setRemoteError\"\n                  }\n                }\n              },\n              resolved: {\n                type: \"final\",\n                always: \"#signInActor.resolved\"\n              }\n            }\n          }\n        }\n      },\n      setupTOTP: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SIGN_IN: \"#signInActor.signIn\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: [\"sendUpdate\", \"clearError\"],\n            invoke: {\n              src: \"verifyTotpToken\",\n              onDone: {\n                actions: [\"clearChallengeName\", \"clearRequiredAttributes\"],\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      verifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"verifyUser\",\n              onDone: {\n                target: \"#signInActor.confirmVerifyUser\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      confirmVerifyUser: {\n        initial: \"edit\",\n        exit: [\"clearFormValues\", \"clearError\", \"clearUnverifiedAttributes\", \"clearAttributeToVerify\", \"clearTouched\"],\n        states: {\n          edit: {\n            entry: \"sendUpdate\",\n            on: {\n              SUBMIT: {\n                actions: \"handleSubmit\",\n                target: \"submit\"\n              },\n              SKIP: \"#signInActor.resolved\",\n              CHANGE: {\n                actions: \"handleInput\"\n              }\n            }\n          },\n          submit: {\n            tags: [\"pending\"],\n            entry: \"clearError\",\n            invoke: {\n              src: \"confirmVerifyUser\",\n              onDone: {\n                target: \"#signInActor.resolved\"\n              },\n              onError: {\n                actions: \"setRemoteError\",\n                target: \"edit\"\n              }\n            }\n          }\n        }\n      },\n      resolved: {\n        type: \"final\",\n        data: function data(e) {\n          return {\n            user: e.user\n          };\n        }\n      },\n      rejected: {\n        type: \"final\",\n        data: function data(e, t) {\n          return {\n            intent: e.redirectIntent,\n            authAttributes: e.authAttributes\n          };\n        }\n      }\n    }\n  }, {\n    actions: {\n      clearAttributeToVerify: l,\n      clearChallengeName: g,\n      clearRequiredAttributes: f,\n      clearError: m,\n      clearFormValues: h,\n      clearTouched: p,\n      clearUnverifiedAttributes: v,\n      clearValidationError: I,\n      handleInput: A,\n      handleSubmit: U,\n      handleBlur: E,\n      parsePhoneNumber: S,\n      setChallengeName: b,\n      setConfirmResetPasswordIntent: y,\n      setConfirmSignUpIntent: T,\n      setRequiredAttributes: C,\n      setCredentials: N,\n      setFieldErrors: w,\n      setRemoteError: R,\n      setUnverifiedAttributes: P,\n      setUser: V,\n      setUsernameAuthAttributes: F,\n      sendUpdate: c()\n    },\n    guards: {\n      shouldConfirmSignIn: function shouldConfirmSignIn(e, t) {\n        var r = s(t, \"data.challengeName\");\n        return [d.SMS_MFA, d.SOFTWARE_TOKEN_MFA].includes(r);\n      },\n      shouldAutoSignIn: function shouldAutoSignIn(e) {\n        return \"autoSignIn\" === (null == e ? void 0 : e.intent);\n      },\n      shouldRedirectToConfirmSignUp: function shouldRedirectToConfirmSignUp(e, t) {\n        return \"UserNotConfirmedException\" === t.data.code;\n      },\n      shouldRedirectToConfirmResetPassword: function shouldRedirectToConfirmResetPassword(e, t) {\n        return \"PasswordResetRequiredException\" === t.data.code;\n      },\n      shouldSetupTOTP: function shouldSetupTOTP(e, t) {\n        return s(t, \"data.challengeName\") === d.MFA_SETUP;\n      },\n      shouldForceChangePassword: function shouldForceChangePassword(e, t) {\n        return s(t, \"data.challengeName\") === d.NEW_PASSWORD_REQUIRED;\n      },\n      shouldRequestVerification: function shouldRequestVerification(e, t) {\n        var r = t.data,\n            n = r.unverified,\n            i = r.verified;\n        return o(i) && !o(n);\n      }\n    },\n    services: {\n      signIn: function signIn(n) {\n        return e(this, void 0, void 0, function () {\n          var e, i, s, o, a, c, d;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n.authAttributes, i = void 0 === e ? {} : e, s = n.formValues, o = void 0 === s ? {} : s, a = r(r({}, i), o), c = a.username, d = a.password, [4, j.handleSignIn({\n                  username: c,\n                  password: d\n                })];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      confirmSignIn: function confirmSignIn(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n, s, o;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.challengeName, n = r.user, s = r.formValues.confirmation_code, e !== d.SMS_MFA && e !== d.SOFTWARE_TOKEN_MFA || (o = e), [4, j.handleConfirmSignIn({\n                  user: n,\n                  code: s,\n                  mfaType: o\n                })];\n\n              case 1:\n                return t.sent(), [4, i.currentAuthenticatedUser()];\n\n              case 2:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      forceNewPassword: function forceNewPassword(s, o) {\n        return e(this, void 0, void 0, function () {\n          var e, o, a, c, d, u, l, g, f;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                e = s.user, o = s.formValues, a = o.password, c = o.phone_number, d = o.country_code, u = n(o, [\"password\", \"confirm_password\", \"phone_number\", \"country_code\"]), c && (l = \"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi, \"\"), u = r(r({}, u), {\n                  phone_number: l\n                })), t.label = 1;\n\n              case 1:\n                return t.trys.push([1, 3,, 4]), [4, i.completeNewPassword(e, a, u)];\n\n              case 2:\n                return (g = t.sent()).challengeName ? [2, g] : [2, i.currentAuthenticatedUser()];\n\n              case 3:\n                return f = t.sent(), [2, Promise.reject(f)];\n\n              case 4:\n                return [2];\n            }\n          });\n        });\n      },\n      verifyTotpToken: function verifyTotpToken(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            return e = r.user, n = r.formValues.confirmation_code, [2, i.verifyTotpToken(e, n)];\n          });\n        });\n      },\n      federatedSignIn: function federatedSignIn(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = n.data.provider, [4, i.federatedSignIn({\n                  provider: e\n                })];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      checkVerifiedContact: function checkVerifiedContact(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.user, [4, i.verifiedContact(e)];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      verifyUser: function verifyUser(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.formValues.unverifiedAttr, [4, i.verifyCurrentUserAttribute(e)];\n\n              case 1:\n                return n = t.sent(), r.attributeToVerify = e, [2, n];\n            }\n          });\n        });\n      },\n      confirmVerifyUser: function confirmVerifyUser(r, n) {\n        return e(this, void 0, void 0, function () {\n          var e, n;\n          return t(this, function (t) {\n            switch (t.label) {\n              case 0:\n                return e = r.attributeToVerify, n = r.formValues.confirmation_code, [4, i.verifyCurrentUserAttributeSubmit(e, n)];\n\n              case 1:\n                return [2, t.sent()];\n            }\n          });\n        });\n      },\n      validateFields: function validateFields(r, n) {\n        return e(this, void 0, void 0, function () {\n          return t(this, function (e) {\n            return [2, u(r.formValues, r.touched, r.passwordSettings, [_.validateConfirmPassword])];\n          });\n        });\n      }\n    }\n  });\n}\n\nexport { k as signInActor };","map":{"version":3,"names":["__awaiter","e","__generator","t","__assign","r","__rest","n","Auth","i","s","o","createMachine","a","sendUpdate","c","AuthChallengeNames","d","runValidators","u","clearAttributeToVerify","l","clearChallengeName","g","clearRequiredAttributes","f","clearError","m","clearFormValues","h","clearTouched","p","clearUnverifiedAttributes","v","clearValidationError","I","handleInput","A","handleSubmit","U","handleBlur","E","parsePhoneNumber","S","setChallengeName","b","setConfirmResetPasswordIntent","y","setConfirmSignUpIntent","T","setRequiredAttributes","C","setCredentials","N","setFieldErrors","w","setRemoteError","R","setUnverifiedAttributes","P","setUser","V","setUsernameAuthAttributes","F","defaultServices","_","k","j","services","initial","id","states","init","always","target","cond","signIn","exit","edit","entry","on","SUBMIT","actions","CHANGE","FEDERATED_SIGN_IN","federatedSignIn","tags","invoke","src","onError","submit","onDone","verifying","resolved","rejected","autoSignIn","confirmSignIn","SIGN_IN","forceNewPassword","type","validation","pending","valid","invalid","BLUR","idle","validate","setupTOTP","verifyUser","SKIP","confirmVerifyUser","data","user","intent","redirectIntent","authAttributes","guards","shouldConfirmSignIn","SMS_MFA","SOFTWARE_TOKEN_MFA","includes","shouldAutoSignIn","shouldRedirectToConfirmSignUp","code","shouldRedirectToConfirmResetPassword","shouldSetupTOTP","MFA_SETUP","shouldForceChangePassword","NEW_PASSWORD_REQUIRED","shouldRequestVerification","unverified","verified","label","formValues","username","password","handleSignIn","sent","challengeName","confirmation_code","handleConfirmSignIn","mfaType","currentAuthenticatedUser","phone_number","country_code","concat","replace","trys","push","completeNewPassword","Promise","reject","verifyTotpToken","provider","checkVerifiedContact","verifiedContact","unverifiedAttr","verifyCurrentUserAttribute","attributeToVerify","verifyCurrentUserAttributeSubmit","validateFields","touched","passwordSettings","validateConfirmPassword","signInActor"],"sources":["/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@aws-amplify/ui/dist/esm/machines/authenticator/actors/signIn.js"],"sourcesContent":["import{__awaiter as e,__generator as t,__assign as r,__rest as n}from\"../../../node_modules/tslib/tslib.es6.js\";import{Auth as i}from\"aws-amplify\";import s from\"lodash/get\";import o from\"lodash/isEmpty\";import{createMachine as a,sendUpdate as c}from\"xstate\";import{AuthChallengeNames as d}from\"../../../types/authenticator/user.js\";import\"../../../types/authenticator/attributes.js\";import{runValidators as u}from\"../../../validators/index.js\";import{clearAttributeToVerify as l,clearChallengeName as g,clearRequiredAttributes as f,clearError as m,clearFormValues as h,clearTouched as p,clearUnverifiedAttributes as v,clearValidationError as I,handleInput as A,handleSubmit as U,handleBlur as E,parsePhoneNumber as S,setChallengeName as b,setConfirmResetPasswordIntent as y,setConfirmSignUpIntent as T,setRequiredAttributes as C,setCredentials as N,setFieldErrors as w,setRemoteError as R,setUnverifiedAttributes as P,setUser as V,setUsernameAuthAttributes as F}from\"../actions.js\";import{defaultServices as _}from\"../defaultServices.js\";function k(k){var j=k.services;return a({initial:\"init\",id:\"signInActor\",states:{init:{always:[{target:\"autoSignIn\",cond:\"shouldAutoSignIn\"},{target:\"signIn\"}]},signIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},CHANGE:{actions:\"handleInput\"},FEDERATED_SIGN_IN:\"federatedSignIn\"}},federatedSignIn:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"federatedSignIn\",onError:{actions:\"setRemoteError\"}}},submit:{tags:[\"pending\"],entry:[\"parsePhoneNumber\",\"clearError\",\"sendUpdate\"],invoke:{src:\"signIn\",onDone:[{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldForceChangePassword\",actions:[\"setUser\",\"setChallengeName\",\"setRequiredAttributes\"],target:\"#signInActor.forceNewPassword\"},{actions:\"setUser\",target:\"verifying\"}],onError:[{cond:\"shouldRedirectToConfirmSignUp\",actions:[\"setCredentials\",\"setConfirmSignUpIntent\"],target:\"rejected\"},{cond:\"shouldRedirectToConfirmResetPassword\",actions:[\"setUsernameAuthAttributes\",\"setConfirmResetPasswordIntent\"],target:\"rejected\"},{actions:\"setRemoteError\",target:\"edit\"}]}},verifying:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"checkVerifiedContact\",onDone:[{cond:\"shouldRequestVerification\",target:\"#signInActor.verifyUser\",actions:\"setUnverifiedAttributes\"},{target:\"resolved\"}],onError:{actions:\"setRemoteError\",target:\"edit\"}}},resolved:{always:\"#signInActor.resolved\"},rejected:{always:\"#signInActor.rejected\"}}},autoSignIn:{initial:\"submit\",states:{submit:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"signIn\",onDone:[{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldForceChangePassword\",actions:[\"setUser\",\"setChallengeName\",\"setRequiredAttributes\"],target:\"#signInActor.forceNewPassword\"},{actions:\"setUser\",target:\"#signInActor.resolved\"}],onError:[{cond:\"shouldRedirectToConfirmSignUp\",actions:[\"setCredentials\",\"setConfirmSignUpIntent\"],target:\"#signInActor.rejected\"},{cond:\"shouldRedirectToConfirmResetPassword\",actions:[\"setUsernameAuthAttributes\",\"setConfirmResetPasswordIntent\"],target:\"#signInActor.rejected\"},{actions:\"setRemoteError\",target:\"#signInActor.signIn\"}]}}}},confirmSignIn:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"clearError\",\"sendUpdate\"],invoke:{src:\"confirmSignIn\",onDone:{target:\"#signInActor.resolved\",actions:[\"setUser\",\"clearChallengeName\",\"clearRequiredAttributes\"]},onError:{target:\"edit\",actions:\"setRemoteError\"}}}}},forceNewPassword:{type:\"parallel\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{validation:{initial:\"pending\",states:{pending:{invoke:{src:\"validateFields\",onDone:{target:\"valid\",actions:\"clearValidationError\"},onError:{target:\"invalid\",actions:\"setFieldErrors\"}}},valid:{entry:\"sendUpdate\"},invalid:{entry:\"sendUpdate\"}},on:{SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\",target:\".pending\"},BLUR:{actions:\"handleBlur\",target:\".pending\"}}},submit:{initial:\"idle\",entry:\"clearError\",states:{idle:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"validate\"}}},validate:{entry:\"sendUpdate\",invoke:{src:\"validateFields\",onDone:{target:\"pending\",actions:\"clearValidationError\"},onError:{target:\"idle\",actions:\"setFieldErrors\"}}},pending:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"forceNewPassword\",onDone:[{cond:\"shouldConfirmSignIn\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.confirmSignIn\"},{cond:\"shouldSetupTOTP\",actions:[\"setUser\",\"setChallengeName\"],target:\"#signInActor.setupTOTP\"},{target:\"resolved\",actions:[\"setUser\",\"setCredentials\"]}],onError:{target:\"idle\",actions:\"setRemoteError\"}}},resolved:{type:\"final\",always:\"#signInActor.resolved\"}}}}},setupTOTP:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SIGN_IN:\"#signInActor.signIn\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:[\"sendUpdate\",\"clearError\"],invoke:{src:\"verifyTotpToken\",onDone:{actions:[\"clearChallengeName\",\"clearRequiredAttributes\"],target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},verifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"verifyUser\",onDone:{target:\"#signInActor.confirmVerifyUser\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},confirmVerifyUser:{initial:\"edit\",exit:[\"clearFormValues\",\"clearError\",\"clearUnverifiedAttributes\",\"clearAttributeToVerify\",\"clearTouched\"],states:{edit:{entry:\"sendUpdate\",on:{SUBMIT:{actions:\"handleSubmit\",target:\"submit\"},SKIP:\"#signInActor.resolved\",CHANGE:{actions:\"handleInput\"}}},submit:{tags:[\"pending\"],entry:\"clearError\",invoke:{src:\"confirmVerifyUser\",onDone:{target:\"#signInActor.resolved\"},onError:{actions:\"setRemoteError\",target:\"edit\"}}}}},resolved:{type:\"final\",data:function(e){return{user:e.user}}},rejected:{type:\"final\",data:function(e,t){return{intent:e.redirectIntent,authAttributes:e.authAttributes}}}}},{actions:{clearAttributeToVerify:l,clearChallengeName:g,clearRequiredAttributes:f,clearError:m,clearFormValues:h,clearTouched:p,clearUnverifiedAttributes:v,clearValidationError:I,handleInput:A,handleSubmit:U,handleBlur:E,parsePhoneNumber:S,setChallengeName:b,setConfirmResetPasswordIntent:y,setConfirmSignUpIntent:T,setRequiredAttributes:C,setCredentials:N,setFieldErrors:w,setRemoteError:R,setUnverifiedAttributes:P,setUser:V,setUsernameAuthAttributes:F,sendUpdate:c()},guards:{shouldConfirmSignIn:function(e,t){var r=s(t,\"data.challengeName\");return[d.SMS_MFA,d.SOFTWARE_TOKEN_MFA].includes(r)},shouldAutoSignIn:function(e){return\"autoSignIn\"===(null==e?void 0:e.intent)},shouldRedirectToConfirmSignUp:function(e,t){return\"UserNotConfirmedException\"===t.data.code},shouldRedirectToConfirmResetPassword:function(e,t){return\"PasswordResetRequiredException\"===t.data.code},shouldSetupTOTP:function(e,t){return s(t,\"data.challengeName\")===d.MFA_SETUP},shouldForceChangePassword:function(e,t){return s(t,\"data.challengeName\")===d.NEW_PASSWORD_REQUIRED},shouldRequestVerification:function(e,t){var r=t.data,n=r.unverified,i=r.verified;return o(i)&&!o(n)}},services:{signIn:function(n){return e(this,void 0,void 0,(function(){var e,i,s,o,a,c,d;return t(this,(function(t){switch(t.label){case 0:return e=n.authAttributes,i=void 0===e?{}:e,s=n.formValues,o=void 0===s?{}:s,a=r(r({},i),o),c=a.username,d=a.password,[4,j.handleSignIn({username:c,password:d})];case 1:return[2,t.sent()]}}))}))},confirmSignIn:function(r,n){return e(this,void 0,void 0,(function(){var e,n,s,o;return t(this,(function(t){switch(t.label){case 0:return e=r.challengeName,n=r.user,s=r.formValues.confirmation_code,e!==d.SMS_MFA&&e!==d.SOFTWARE_TOKEN_MFA||(o=e),[4,j.handleConfirmSignIn({user:n,code:s,mfaType:o})];case 1:return t.sent(),[4,i.currentAuthenticatedUser()];case 2:return[2,t.sent()]}}))}))},forceNewPassword:function(s,o){return e(this,void 0,void 0,(function(){var e,o,a,c,d,u,l,g,f;return t(this,(function(t){switch(t.label){case 0:e=s.user,o=s.formValues,a=o.password,c=o.phone_number,d=o.country_code,u=n(o,[\"password\",\"confirm_password\",\"phone_number\",\"country_code\"]),c&&(l=\"\".concat(d).concat(c).replace(/[^A-Z0-9+]/gi,\"\"),u=r(r({},u),{phone_number:l})),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,i.completeNewPassword(e,a,u)];case 2:return(g=t.sent()).challengeName?[2,g]:[2,i.currentAuthenticatedUser()];case 3:return f=t.sent(),[2,Promise.reject(f)];case 4:return[2]}}))}))},verifyTotpToken:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){return e=r.user,n=r.formValues.confirmation_code,[2,i.verifyTotpToken(e,n)]}))}))},federatedSignIn:function(r,n){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=n.data.provider,[4,i.federatedSignIn({provider:e})];case 1:return[2,t.sent()]}}))}))},checkVerifiedContact:function(r,n){return e(this,void 0,void 0,(function(){var e;return t(this,(function(t){switch(t.label){case 0:return e=r.user,[4,i.verifiedContact(e)];case 1:return[2,t.sent()]}}))}))},verifyUser:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.formValues.unverifiedAttr,[4,i.verifyCurrentUserAttribute(e)];case 1:return n=t.sent(),r.attributeToVerify=e,[2,n]}}))}))},confirmVerifyUser:function(r,n){return e(this,void 0,void 0,(function(){var e,n;return t(this,(function(t){switch(t.label){case 0:return e=r.attributeToVerify,n=r.formValues.confirmation_code,[4,i.verifyCurrentUserAttributeSubmit(e,n)];case 1:return[2,t.sent()]}}))}))},validateFields:function(r,n){return e(this,void 0,void 0,(function(){return t(this,(function(e){return[2,u(r.formValues,r.touched,r.passwordSettings,[_.validateConfirmPassword])]}))}))}}})}export{k as signInActor};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}