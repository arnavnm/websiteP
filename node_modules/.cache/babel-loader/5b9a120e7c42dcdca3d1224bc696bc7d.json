{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.supportsZeroByteGCM = exports.supportsSubtleCrypto = exports.supportsSecureRandom = exports.supportsWebCrypto = void 0;\n\nvar tslib_1 = require(\"tslib\");\n\nvar subtleCryptoMethods = [\"decrypt\", \"digest\", \"encrypt\", \"exportKey\", \"generateKey\", \"importKey\", \"sign\", \"verify\"];\n\nfunction supportsWebCrypto(window) {\n  if (supportsSecureRandom(window) && typeof window.crypto.subtle === \"object\") {\n    var subtle = window.crypto.subtle;\n    return supportsSubtleCrypto(subtle);\n  }\n\n  return false;\n}\n\nexports.supportsWebCrypto = supportsWebCrypto;\n\nfunction supportsSecureRandom(window) {\n  if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n    var getRandomValues = window.crypto.getRandomValues;\n    return typeof getRandomValues === \"function\";\n  }\n\n  return false;\n}\n\nexports.supportsSecureRandom = supportsSecureRandom;\n\nfunction supportsSubtleCrypto(subtle) {\n  return subtle && subtleCryptoMethods.every(function (methodName) {\n    return typeof subtle[methodName] === \"function\";\n  });\n}\n\nexports.supportsSubtleCrypto = supportsSubtleCrypto;\n\nfunction supportsZeroByteGCM(subtle) {\n  return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n    var key, zeroByteAuthTag, _a;\n\n    return (0, tslib_1.__generator)(this, function (_b) {\n      switch (_b.label) {\n        case 0:\n          if (!supportsSubtleCrypto(subtle)) return [2\n          /*return*/\n          , false];\n          _b.label = 1;\n\n        case 1:\n          _b.trys.push([1, 4,, 5]);\n\n          return [4\n          /*yield*/\n          , subtle.generateKey({\n            name: \"AES-GCM\",\n            length: 128\n          }, false, [\"encrypt\"])];\n\n        case 2:\n          key = _b.sent();\n          return [4\n          /*yield*/\n          , subtle.encrypt({\n            name: \"AES-GCM\",\n            iv: new Uint8Array(Array(12)),\n            additionalData: new Uint8Array(Array(16)),\n            tagLength: 128\n          }, key, new Uint8Array(0))];\n\n        case 3:\n          zeroByteAuthTag = _b.sent();\n          return [2\n          /*return*/\n          , zeroByteAuthTag.byteLength === 16];\n\n        case 4:\n          _a = _b.sent();\n          return [2\n          /*return*/\n          , false];\n\n        case 5:\n          return [2\n          /*return*/\n          ];\n      }\n    });\n  });\n}\n\nexports.supportsZeroByteGCM = supportsZeroByteGCM;","map":{"version":3,"mappings":"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","names":["subtleCryptoMethods","supportsWebCrypto","window","supportsSecureRandom","crypto","subtle","supportsSubtleCrypto","exports","getRandomValues","every","methodName","supportsZeroByteGCM","generateKey","name","length","key","_b","encrypt","iv","Uint8Array","Array","additionalData","tagLength","zeroByteAuthTag","byteLength"],"sources":["/Users/arnavmisra/Desktop/Portfolio-main/Portfolio/node_modules/@aws-sdk/client-location/node_modules/@aws-crypto/supports-web-crypto/src/supportsWebCrypto.ts"],"sourcesContent":["type SubtleCryptoMethod =\n  | \"decrypt\"\n  | \"digest\"\n  | \"encrypt\"\n  | \"exportKey\"\n  | \"generateKey\"\n  | \"importKey\"\n  | \"sign\"\n  | \"verify\";\n\nconst subtleCryptoMethods: Array<SubtleCryptoMethod> = [\n  \"decrypt\",\n  \"digest\",\n  \"encrypt\",\n  \"exportKey\",\n  \"generateKey\",\n  \"importKey\",\n  \"sign\",\n  \"verify\"\n];\n\nexport function supportsWebCrypto(window: Window): boolean {\n  if (\n    supportsSecureRandom(window) &&\n    typeof window.crypto.subtle === \"object\"\n  ) {\n    const { subtle } = window.crypto;\n\n    return supportsSubtleCrypto(subtle);\n  }\n\n  return false;\n}\n\nexport function supportsSecureRandom(window: Window): boolean {\n  if (typeof window === \"object\" && typeof window.crypto === \"object\") {\n    const { getRandomValues } = window.crypto;\n\n    return typeof getRandomValues === \"function\";\n  }\n\n  return false;\n}\n\nexport function supportsSubtleCrypto(subtle: SubtleCrypto) {\n  return (\n    subtle &&\n    subtleCryptoMethods.every(\n      methodName => typeof subtle[methodName] === \"function\"\n    )\n  );\n}\n\nexport async function supportsZeroByteGCM(subtle: SubtleCrypto) {\n  if (!supportsSubtleCrypto(subtle)) return false;\n  try {\n    const key = await subtle.generateKey(\n      { name: \"AES-GCM\", length: 128 },\n      false,\n      [\"encrypt\"]\n    );\n    const zeroByteAuthTag = await subtle.encrypt(\n      {\n        name: \"AES-GCM\",\n        iv: new Uint8Array(Array(12)),\n        additionalData: new Uint8Array(Array(16)),\n        tagLength: 128\n      },\n      key,\n      new Uint8Array(0)\n    );\n    return zeroByteAuthTag.byteLength === 16;\n  } catch {\n    return false;\n  }\n}\n"]},"metadata":{},"sourceType":"script"}